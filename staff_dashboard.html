<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <style>
       .navbar-nav {
      margin: auto;
    }
    .navbar-brand {
    margin-left: 15px !important; /* Removes any left margin */
    padding-left: 5px !important; /* Removes any left padding */
    display: flex; /* Aligns image and text horizontally */
    align-items: center; /* Vertically centers the content */
}


.navbar-brand img {
    margin-right: 10px; /* Optional: adds space between the logo and text */
}

.navbar {
    padding-left: 0; /* Ensures the navbar itself doesn't push content */
}


    .modal-header-content {
      text-align: center;
      margin-bottom: 20px;
    }

    .modal-header-content img {
      max-width: 80px; /* Adjust logo width */
      display: block;
      margin: 0 auto;
    }

    .modal-title {
      margin-bottom: 0;
      text-align: center; /* Center align modal title */
    }

    .modal-footer {
      justify-content: center;
    }

    .signature {
      margin-top: 20px;
    }

    .profile-picture-container {
      max-width: 200px; /* Adjust width as needed */
      max-height: 300px; /* Adjust height as needed */
      margin: 0 auto; /* Center the container */
      overflow: hidden; /* Ensure the image doesn't overflow */
      border-radius: 10px; /* Rounded corners for the picture */
    }

    .profile-picture {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
        }
    .card {
      border-radius: 20px; /* Rounded corners for the card */
      overflow: hidden;
    }

    .profile-card {
      max-width: 550px; /* Increase the width for profile card */
      margin: 0 auto; /* Centered content */
      height: 400px;
    }

    .card-body {
      padding: 1.25rem; /* Padding inside the card body */
    }

    .card-title {
      font-weight: bold;
    }

    /* styles for ID card modal */
    .id-card {
      text-align: center;
      padding: 1.25rem;
      border: 2px solid #000; /* Border around the card */
      max-width: 300px; /* Portrait orientation */
      margin: 0 auto; /* Centered content */
      margin-bottom: 20px; /* Space below the card */
    }
    
    .id-card-back {
      /* Additional styles for back of ID card */
      text-align: center; /* Center content */
      padding: 1.25rem; /* Padding */
      border: 2px solid #000; /* Border around the card */
      max-width: 300px; /* Portrait orientation */
      margin: 0 auto; /* Centered content */
    }

    .id-card-logo {
      max-width: 80px;
      margin: 0 auto;
      display: block;
    }

    #profile-pic {
      max-width: 50px;
      max-height: 60px;
      border-radius: 45%;
    }

    .footer {
  background: #f8f9fa;
  color: #343a40;
  padding: 10px;
  text-align: center;
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center;     /* Center vertically */
  flex-direction: column;  /* Stack items vertically */
}

.footer .row {
  width: 100%; /* Ensure row takes up the full width */
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center;     /* Center vertically if necessary */
  margin: 0;
}

.footer .col {
  padding: 0;
  text-align: center; /* Ensure content in columns is centered */
}

.footer p {
  margin: 0;
}

.footer a {
  color: #007bff;
  text-decoration: none;
}

.footer i {
  font-size: 24px;
}
    #myBtn {
  display: none;
  position: fixed;
  bottom: 15px;
  right: 30px;
  z-index: 99;
  border: none;
  outline: none;
  background-color: rgb(210, 210, 233);
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 4px;
}

#myBtn:hover {
  background-color: #555;
}


    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand ml-5 pl-5" href="#">
      <img src="logo.jpg" alt="Logo" height="30" class="mr-2"> Staff Dashboard
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
          <!-- Student Management -->
          <li  class="nav-item">
            <a class="nav-link ml-5" href="staff_dashboard.html">Home</a>
        </li>
          <li class="nav-item">
              <a class="nav-link ml-5" href="student_management.html">Students Management</a>
          </li>
          
          <!-- Result Management -->
          <li class="nav-item">
              <a class="nav-link ml-5" href="#">Results Management</a>
          </li>
          
          <!-- Download ID Card -->
          <li class="nav-item">
            <a class="nav-link ml-5" href="#" data-toggle="modal" data-target="#idCardModal">Download ID Card</a>
        </li>
          
          <!-- Logout -->
          <li class="nav-item">
              <a class="nav-link ml-5" href="/logout" id="logout">Logout</a>
          </li>
      </ul>
  </div>
</nav>


   <br><br>
    <!-- Staff Profile Section -->
    <div class="container profile-card-container">
        <div class="card profile-card text-center">
            <div class="card-header">
                Imam Hafsin Model International School
            </div>
            <div class="card-body">
                <img id="teacher-profile-picture" src="default-profile.png" alt="Profile Picture" class="profile-picture mb-3">
                <h5 class="card-title" id="teacher-name">Welcome</h5>
                <p><strong>Email:</strong> <span id="teacher-email"></span></p>
                <p><strong>Staff ID:</strong> <span id="teacher-staff-id"></span></p>
                <p><strong>Qualification:</strong> <span id="teacher-qualification"></span></p>
                <p><strong>Role:</strong> <span id="teacher-role"></span></p>
            </div>
        </div>
    </div>
    <!-- End of Staff Profile Section -->
<br><br>
 <!-- Modal for ID Card -->
 <div class="modal fade" id="idCardModal" tabindex="-1" role="dialog" aria-labelledby="idCardModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title">Staff ID Card</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <!-- Front of ID Card -->
              <div class="id-card">
                  <div class="modal-header-content">
                      <img src="logo.jpg" alt="School Logo" class="id-card-logo">
                      <h6 class="modal-title">Imam Hafsin Model International School <br>622, Yakasai Street, Tal'udu G/Kaya<br>Gwale L.G.A, Kano State, Nigeria. </h6>
                      <h5 class="modal-title" style="text-decoration: underline;">Staff ID Card</h5>
                  </div>
                  <img id="modal-teacher-profile-picture" src="default-profile.png" alt="Profile Picture" class="profile-picture mb-3">
                  <h5 class="card-title" id="modal-teacher-name">Welcome</h5>
                  <p><strong>Staff ID:</strong> <span id="modal-teacher-staff-id"></span></p>
                  <p><strong>Qualification:</strong> <span id="modal-teacher-qualification"></span></p>
                  <p><strong>Role:</strong> <span id="modal-teacher-role"></span></p>
                  <div class="signature">
                      <p>Signature: ________________________</p>
                  </div>
              </div>
              <!-- Back of ID Card -->
              <div class="id-card-back">
                  <h5>Usage Policy</h5>
                  <p>This ID card is issued to staff members for identification purposes at Imam Hafsin Model International School. It remains the property of the school and must be surrendered upon request. The card is non-transferable and should only be used by the authorized individual. For security reasons, it must be signed upon receipt. If found, please return it to:</p>
                  <p>Imam Hafsin Model International School<br>622, Yakasai Street, Tal'udu G/Kaya<br>Gwale L.G.A, Kano State, Nigeria.</p>
                  <p>Contact:</p>
                  <p>08030999939939399</p>
                  <p><a href="mailto:1440shamsusabo@gmail.com">imamhafsin@gmail.com</a></p>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-primary" onclick="window.print()">Print</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>
 <!-- Footer -->
 <div class="footer bg-light mt-5">
  <div class="row text-center py-3">
    <div class="col-md-4">
      <p><strong>Imam Hafsin Model International School</strong></p>
      <p>622, Yakasai Street, Tal'udu G/Kaya</p>
      <p>Email: imamhafsin@gmail.com</p>
      <p>Phone: 08030999939939399</p>
    </div>
    <div class="col-md-4">
      <a href="https://www.facebook.com/prof.johndoe" target="_blank" class="d-block mb-2">
        <i class="fab fa-facebook"></i> Facebook
      </a>
      <a href="https://www.instagram.com/prof.johndoe" target="_blank" class="d-block mb-2">
        <i class="fab fa-instagram"></i> Instagram
      </a>
      <a href="https://twitter.com/prof_johndoe" target="_blank" class="d-block mb-2">
        <i class="fab fa-twitter"></i> Twitter
      </a>
      <a href="https://wa.me/1234567890" target="_blank" class="d-block mb-2">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </a>
    </div>
    <div class="col-md-4">
      <p>&copy; IHMIS 2024</p>
      <p>All rights reserved.</p>
    </div>
  </div>
</div>
<!-- Back to top button -->
<button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fas fa-arrow-up"></i></button>

  <!-- Bootstrap JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // Function to fetch teacher details from the server
    async function fetchTeacherDetails() {
        try {
            const response = await fetch('/api/teacher-details'); // Your endpoint to fetch teacher details
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }

            const teacher = await response.json();

            // Populate the HTML with teacher details
            document.getElementById('teacher-name').innerText = `Welcome, ${teacher.name}`;
            document.getElementById('teacher-email').innerText = teacher.email;
            document.getElementById('teacher-staff-id').innerText = teacher.staff_id;
            document.getElementById('teacher-qualification').innerText = teacher.qualification;
            document.getElementById('teacher-role').innerText = teacher.role;
            document.getElementById('teacher-profile-picture').src = teacher.profile_picture || 'default-profile.png';
             // Populate the ID card modal with teacher details
             document.getElementById('modal-teacher-name').innerText = teacher.name;
                document.getElementById('modal-teacher-staff-id').innerText = teacher.staff_id;
                document.getElementById('modal-teacher-qualification').innerText = teacher.qualification;
                document.getElementById('modal-teacher-role').innerText = teacher.role;
                document.getElementById('modal-teacher-profile-picture').src = teacher.profile_picture || 'default-profile.png';
                
        } catch (error) {
            console.error('Error fetching teacher details:', error);
        }
    }

    // Call the function to fetch teacher details when the page loads
    window.onload = fetchTeacherDetails;

    function logout() {
  window.location.href = '/logout'; // Redirect to admin logout route
}


    // Back to top button functionality
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("myBtn").style.display = "block";
        } else {
            document.getElementById("myBtn").style.display = "none";
        }
    }

    function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
 
    
function preventBackNavigation() {
    window.history.pushState(null, document.title, window.location.href);
    window.addEventListener('popstate', function(event) {
        window.history.pushState(null, document.title, window.location.href);
    });
}

// Call this function on the staff_dashboard page
preventBackNavigation();

 </script>
</body>
</html>